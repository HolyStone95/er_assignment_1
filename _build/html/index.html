

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to er_assignment_1’s documentation! &mdash; er_assignment_1 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <link rel="stylesheet" href="_static/fonts.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> er_assignment_1
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to er_assignment_1’s documentation!</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a><ul>
<li><a class="reference internal" href="#er-assignment-1-s-documentation">er_assignment_1’s documentation!</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-scripts.hint_handler">Hint Handler Module</a></li>
<li><a class="reference internal" href="#module-scripts.accusation_handler">Accusation Handler Module</a></li>
<li><a class="reference internal" href="#module-scripts.roboCop">RoboCop Module</a></li>
<li><a class="reference internal" href="#module-scripts.game_logic">Game Logic Module</a></li>
<li><a class="reference internal" href="#module-scripts.navigation">Navigation Module</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">er_assignment_1</a>
        
      </nav>


      <div class="wy-nav-content">
<div class="git-ribbon">
  <a href="http://github.com/SwissDataScienceCenter" rel="me">Join us on GitHub</a>
</div>

        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to er_assignment_1’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-er-assignment-1-s-documentation">
<h1>Welcome to er_assignment_1’s documentation!<a class="headerlink" href="#welcome-to-er-assignment-1-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
<div class="section" id="er-assignment-1-s-documentation">
<h2>er_assignment_1’s documentation!<a class="headerlink" href="#er-assignment-1-s-documentation" title="Permalink to this headline">¶</a></h2>
<p>This is the documentation of the er_assignment_1 package! Remember that you
can find the NECESSARY modified package of armor_py that you can find on :</p>
</div>
</div>
<div class="section" id="module-scripts.hint_handler">
<span id="hint-handler-module"></span><h1>Hint Handler Module<a class="headerlink" href="#module-scripts.hint_handler" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-hint_handler"></span><p>This module represents the “oracle”, the entity that in the assignment
specification it’s presented as the entity that knows the correct hypothesis
(i.e. knows when, where and who commited the crime),and has a list of all
possible hints identifiers.</p>
<p>It’s implementation is split in two services servers, this one provides
a new hint to the robot when requested.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>None</p>
</dd>
<dt>Publishes to:</dt><dd><p>None</p>
</dd>
<dt>Service :</dt><dd><p>/ask_for_hint to ask the oracle for a new hint</p>
</dd>
</dl>
<dl class="py data">
<dt class="sig sig-object py" id="scripts.hint_handler.IDs">
<span class="sig-prename descclassname"><span class="pre">scripts.hint_handler.</span></span><span class="sig-name descname"><span class="pre">IDs</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.hint_handler.IDs" title="Permalink to this definition">¶</a></dt>
<dd><p>List of strings to store possible hints identifiers</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.hint_handler.hintSrvClbk">
<span class="sig-prename descclassname"><span class="pre">scripts.hint_handler.</span></span><span class="sig-name descname"><span class="pre">hintSrvClbk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/hint_handler.html#hintSrvClbk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.hint_handler.hintSrvClbk" title="Permalink to this definition">¶</a></dt>
<dd><p>Service callback for the ask_for_hint service server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>req</strong> (<em>HintRequest</em>) – Empty request</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>a list of 3 strings representing a particular hint</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>res (HintResponse)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Every time a particular hint is sent back, it’s removed
from the list of possible hints, and its value is removed
on the parameter server to avoid repetitions of alredy
seen information.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.hint_handler.main">
<span class="sig-prename descclassname"><span class="pre">scripts.hint_handler.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/hint_handler.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.hint_handler.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Initializes possible hints identifiers.
Initializes the server.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-scripts.accusation_handler">
<span id="accusation-handler-module"></span><h1>Accusation Handler Module<a class="headerlink" href="#module-scripts.accusation_handler" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-accusation_handler"></span><p>This module represents the “oracle”, the entity that in the assignment
specification it’s presented as the entity that knows the correct hypothesis
(i.e. knows when, where and who commited the crime).
It’s implementation is split in two services servers, thi one answers
if the correct hypo has been found or not when interrogated by the robot.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>None</p>
</dd>
<dt>Publishes to:</dt><dd><p>None</p>
</dd>
<dt>Service :</dt><dd><dl class="simple">
<dt>/query_oracle to interrogate the oracle when a cadidate hypo</dt><dd><p>is being found</p>
</dd>
</dl>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="scripts.accusation_handler.main">
<span class="sig-prename descclassname"><span class="pre">scripts.accusation_handler.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/accusation_handler.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.accusation_handler.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Initializes the the server.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.accusation_handler.querySrvClbk">
<span class="sig-prename descclassname"><span class="pre">scripts.accusation_handler.</span></span><span class="sig-name descname"><span class="pre">querySrvClbk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/accusation_handler.html#querySrvClbk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.accusation_handler.querySrvClbk" title="Permalink to this definition">¶</a></dt>
<dd><p>Service callback for the query_oracle service server</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>req</strong> (<em>HypoIDRequest</em>) – The ID of the candidate hypothesis (accusation)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>True if the candidate ID is the same as the right ID (killer found), else False</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.10)">bool</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<p>Note:</p>
</dd></dl>

</div>
<div class="section" id="module-scripts.roboCop">
<span id="robocop-module"></span><h1>RoboCop Module<a class="headerlink" href="#module-scripts.roboCop" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-roboCop"></span><p>This node represents the robot entity, which can perform 3
diffent activities:</p>
<ul class="simple">
<li><p>Ask for an hint</p></li>
<li><p>Query the oracle about candidate CONSISTENT hypo</p></li>
<li><p>Call the action for navigating the ambient</p></li>
</ul>
<p>The distinction between the first two aforementioned activities
is managed by a server for service roboCopActs that, based on the value
it retrieves from the request, calls one of these two services,
through clients:</p>
<ul class="simple">
<li><p>ask_for_hint</p></li>
<li><p>query_oracle</p></li>
</ul>
<p>The first returns an hint which is then stored in the ontology
by this node, and the second one returns True if the interrogation
of the oracle about a CONSISTENT hypo has positive outcome,
otherwise False.
In the third case we call the function called nav_client that will
populate the action message and call the action server.
The full annotations for the two services are in their provider files,
query_oracle.py, hint_oracle.py and navigation.py.
The CopMsgResponse for roboCopActs service response is populated
accordingly, and sent back to client in the main logic of the
system, to continue with the game of Cluedo.</p>
<p>A CONSISTENT hypo is gathered by a function that each time a new hint
is stored, interrogates the ontology. If a CONSISTENT hypothesis
is found, it is stored into a queue for managing the priority
of discoveries on cadidates hypos, and a parameter in ros server
is set to True, changing the transistions of states in robot_controller.py
i.e. the system logic, representing the knowledge of the robot of
having found a candidate hypo for interrogating the oracle.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>None</p>
</dd>
<dt>Publishes to:</dt><dd><p>None</p>
</dd>
<dt>Service :</dt><dd><p>/roboCopActs to perform an action</p>
</dd>
</dl>
<dl class="py data">
<dt class="sig sig-object py" id="scripts.roboCop.armor_client">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">armor_client</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.roboCop.armor_client" title="Permalink to this definition">¶</a></dt>
<dd><p>global variable to store client of armor service.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.roboCop.checkConsistency">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">checkConsistency</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/roboCop.html#checkConsistency"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.roboCop.checkConsistency" title="Permalink to this definition">¶</a></dt>
<dd><p>Function that once the robot collects an hint,
interrogates the ontology for checking the hypothesis
consistency</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>CONSISTENT hypothesis are COMPLETED but NOT INCONSISTENT.
This function keeps also track of already checked CONSISTENT
hypothesis</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.roboCop.checked">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">checked</span></span><em class="property"> <span class="pre">=</span> <span class="pre">[]</span></em><a class="headerlink" href="#scripts.roboCop.checked" title="Permalink to this definition">¶</a></dt>
<dd><p>empty list for storing already checked consistent hypothesis</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.roboCop.consistent">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">consistent</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.roboCop.consistent" title="Permalink to this definition">¶</a></dt>
<dd><p>global variable to store consistent hypothesis.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.roboCop.gatherHint">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">gatherHint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hint</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/roboCop.html#gatherHint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.roboCop.gatherHint" title="Permalink to this definition">¶</a></dt>
<dd><p>saveHint function is exploited to save hint within the ontology .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>hint</strong> (<em>HintResponse</em>) – the new hint receiced from the oracle, to be stored in the ontology</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Based on the keyword identifier of the type of hint, it is saved in the ontology
accordingly</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.roboCop.hint_client">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">hint_client</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.roboCop.hint_client" title="Permalink to this definition">¶</a></dt>
<dd><p>global variable to store client of service ask_for_hint.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.roboCop.main">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/roboCop.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.roboCop.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It initializes two clients (“ask_for_hint”, “query_oracle” services)
and the armor client to work directly on the ontology.
It initializes a server for service “ShelBotActs”
Moreover, a queue has been defined for storing CONSISTENT hypo.</p>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.roboCop.nav_client">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">nav_client</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">desired</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/roboCop.html#nav_client"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.roboCop.nav_client" title="Permalink to this definition">¶</a></dt>
<dd><p>Function for calling the navigation action</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>desired</strong> (<em>int list</em>) – list of two elements represesenting</p></li>
<li><p><strong>position</strong> (<em>desired planar</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>action result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>client.get_result() (NavigationResult)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Populates a NavigationGoal msg with the desired position
and make the call with a client.</p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.roboCop.query_client">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">query_client</span></span><em class="property"> <span class="pre">=</span> <span class="pre">None</span></em><a class="headerlink" href="#scripts.roboCop.query_client" title="Permalink to this definition">¶</a></dt>
<dd><p>global variable to store client of service query_oracle.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="scripts.roboCop.rooms">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">rooms</span></span><em class="property"> <span class="pre">=</span> <span class="pre">['Ballroom',</span> <span class="pre">'Billiard_room',</span> <span class="pre">'Conservatory',</span> <span class="pre">'Dining_room',</span> <span class="pre">'Kitchen',</span> <span class="pre">'Hall',</span> <span class="pre">'Library',</span> <span class="pre">'Lounge',</span> <span class="pre">'Study']</span></em><a class="headerlink" href="#scripts.roboCop.rooms" title="Permalink to this definition">¶</a></dt>
<dd><p>list for storing the rooms names used for navigation</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#list" title="(in Python v3.10)">list</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.roboCop.srvClbk">
<span class="sig-prename descclassname"><span class="pre">scripts.roboCop.</span></span><span class="sig-name descname"><span class="pre">srvClbk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/roboCop.html#srvClbk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.roboCop.srvClbk" title="Permalink to this definition">¶</a></dt>
<dd><p>Callback function for SherlBotActs service .</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>req</strong> (<em>CopMsgRequest</em>) – composed of a boolean used for distinguishing different requests</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>depending on the request’s values, it is populated accordingly</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>res(CopMsgResponse)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If req is True, through query_client calls for query_oracle service.
If req is False, through hint_client calls for ask_for_hint service.</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-scripts.game_logic">
<span id="game-logic-module"></span><h1>Game Logic Module<a class="headerlink" href="#module-scripts.game_logic" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-game_logic"></span><p>This node is the main logic of the system. It implements a state machine
using Smach libraries. It manages the simulation task of a task performed
by a robot playing cluedo, navigating in a minimally represent environment
( rooms ), gathering hints and asking an entity informed about the correct
conclusions ( the oracle ) regerding where , with what, and who committed
the murder.
Starting from an initial state of INTEMPLE the logic will transition
in state NAVIGATION to reach a new random room. Once reached ( state INROOM )
a client for the service roboCopActs is used for commanding the robot
to ask the oracle for a new hint ( a who or a what or a where ).
The logic will then transition again to NAVIGATION, noving the robot to
another random room -&gt; INROOM, to ask for a new hint. This will
be repeated until the robot has collected enough hints to build a
CONSISTENT hypothesis in its ontology. This interrogation of the
ontology is performed by roboCop.py node. Once this conditon is
met, a parameter retrieved by this node will signal this condition
to the logic, which will go in NAVIGATION state but this time, navigating
the robot to the state INTEMPLE. This state will also use roboCopActs
client to command the robot to interrogate the oracle about the newly
found candidate hypothesis.
If the cadidate hypothesis is the correct one, the game ends, otherwise
the logic resets the parameter and restart the process of NAVIGATION
-&gt; INROOM randomly as before, in order to build a new candidate hypo.</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>None</p>
</dd>
<dt>Publishes to:</dt><dd><p>None</p>
</dd>
<dt>Service :</dt><dd><p>None</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.game_logic.LookForClues">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">scripts.game_logic.</span></span><span class="sig-name descname"><span class="pre">LookForClues</span></span><a class="reference internal" href="_modules/scripts/game_logic.html#LookForClues"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.LookForClues" title="Permalink to this definition">¶</a></dt>
<dd><p>State INROOM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scripts.game_logic.LookForClues.None">
<span class="sig-name descname"><span class="pre">None</span></span><a class="headerlink" href="#scripts.game_logic.LookForClues.None" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.game_logic.LookForClues.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/game_logic.html#LookForClues.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.LookForClues.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>The execution callback of the state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>userdata</strong> – None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the next state to transition into</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>smach.State</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It calls the servie SherlBotActs for commanding the robot
to ask the oracle for a new hint.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.game_logic.Navigate">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">scripts.game_logic.</span></span><span class="sig-name descname"><span class="pre">Navigate</span></span><a class="reference internal" href="_modules/scripts/game_logic.html#Navigate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.Navigate" title="Permalink to this definition">¶</a></dt>
<dd><p>State INROOM.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scripts.game_logic.Navigate.rooms">
<span class="sig-name descname"><span class="pre">rooms</span></span><a class="headerlink" href="#scripts.game_logic.Navigate.rooms" title="Permalink to this definition">¶</a></dt>
<dd><p>list of available rooms</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str list</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="id0">
<span class="sig-name descname"><span class="pre">rooms</span></span><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>list of available rooms</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>str list</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.game_logic.Navigate.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/game_logic.html#Navigate.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.Navigate.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>The execution callback of the state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>userdata</strong> – None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the next state to transition into</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>smach.State</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Checks if the parameter representing the presence of a
candidate hypo on not, and accondingly calls the action
for a random room or for the temple.
The next state in the logic is accordingly choosen using
the right transistion.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scripts.game_logic.QueryOracle">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">scripts.game_logic.</span></span><span class="sig-name descname"><span class="pre">QueryOracle</span></span><a class="reference internal" href="_modules/scripts/game_logic.html#QueryOracle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.QueryOracle" title="Permalink to this definition">¶</a></dt>
<dd><p>State INTEMPLE.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>None</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scripts.game_logic.QueryOracle.None">
<span class="sig-name descname"><span class="pre">None</span></span><a class="headerlink" href="#scripts.game_logic.QueryOracle.None" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.game_logic.QueryOracle.execute">
<span class="sig-name descname"><span class="pre">execute</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">userdata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/game_logic.html#QueryOracle.execute"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.QueryOracle.execute" title="Permalink to this definition">¶</a></dt>
<dd><p>The execution callback of the state</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>userdata</strong> – None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the next state to transition into</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>smach.State</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Besides the initialization of the state machine
we transition in this state only when we have a
candidate hypo.
If the interrogation will result positively, the game
is concluded, otherwise the robot need to start
collecting hints again</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.game_logic.main">
<span class="sig-prename descclassname"><span class="pre">scripts.game_logic.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/game_logic.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.game_logic.main" title="Permalink to this definition">¶</a></dt>
<dd><p>The main function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Initializes the smach state machine and its states and some variables</p>
</div>
</dd></dl>

</div>
<div class="section" id="module-scripts.navigation">
<span id="navigation-module"></span><h1>Navigation Module<a class="headerlink" href="#module-scripts.navigation" title="Permalink to this headline">¶</a></h1>
<span class="target" id="module-navigation"></span><p>Python module that employs a “fake” ( next software versions
will ground it to more realistic applications ) action for
navigation and its interface. “fake” means it is simply a
waiting function</p>
<dl class="simple">
<dt>Subscribes to:</dt><dd><p>None</p>
</dd>
<dt>Publishes to:</dt><dd><p>None</p>
</dd>
<dt>Service :</dt><dd><p>None</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="scripts.navigation.NavigationAction">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">scripts.navigation.</span></span><span class="sig-name descname"><span class="pre">NavigationAction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/navigation.html#NavigationAction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.NavigationAction" title="Permalink to this definition">¶</a></dt>
<dd><p>Navigation action server.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This navigation action has the complete interface to be expanded
and updated for a much more realistic experiment with a real
environment. This implementation is simply a waiting process
proportional to the euclidean distance between the simulated robot
position and the goal destination.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>Object</strong> – </p>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="scripts.navigation.NavigationAction.as">
<span class="sig-name descname"><span class="pre">as</span></span><a class="headerlink" href="#scripts.navigation.NavigationAction.as" title="Permalink to this definition">¶</a></dt>
<dd><p>action server</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="scripts.navigation.NavigationAction.pub">
<span class="sig-name descname"><span class="pre">pub</span></span><a class="headerlink" href="#scripts.navigation.NavigationAction.pub" title="Permalink to this definition">¶</a></dt>
<dd><p>publisher to update the robot position</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scripts.navigation.NavigationAction.execute_cb">
<span class="sig-name descname"><span class="pre">execute_cb</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/navigation.html#NavigationAction.execute_cb"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.NavigationAction.execute_cb" title="Permalink to this definition">¶</a></dt>
<dd><p>Performes the action</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>goal</strong> (<em>NavigationGoal</em>) – desired position and actual position</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>action result</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>_result (NavigationResult)</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Computes the euclidean distance and wait proportionally,
then updates the robot position.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scripts.navigation.main">
<span class="sig-prename descclassname"><span class="pre">scripts.navigation.</span></span><span class="sig-name descname"><span class="pre">main</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/scripts/navigation.html#main"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scripts.navigation.main" title="Permalink to this definition">¶</a></dt>
<dd><p>Main function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>None</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><strong>None</strong> – </p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Initializes action server</p>
</div>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Iacopo Pietrasanta.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>